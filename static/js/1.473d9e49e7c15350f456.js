webpackJsonp([1],{"+m43":function(e,t){},"v+uL":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("mtWM"),i=n.n(s),r={name:"Users",components:{UsersList:function(){return n.e(14).then(n.bind(null,"od0Y"))},Pagination:function(){return n.e(12).then(n.bind(null,"cMGX"))},Limitation:function(){return n.e(11).then(n.bind(null,"PPTt"))},Loader:function(){return n.e(9).then(n.bind(null,"wd27"))}},data:function(){return{users:[],usersCount:0,errorConnection:!1,loading:!1,mobileMenuOpened:!1}},computed:{usersIsLoaded:function(){return this.users.length&&!this.loading},url:function(){return"/users?_page="+this.page+"&_limit="+this.limit},page:{get:function(){return this.$store.state.currentPage},set:function(e){this.$store.dispatch("changePage",e)}},limit:{get:function(){return this.$store.state.currentLimit},set:function(e){this.$store.dispatch("changeLimit",e)}},requestIsJustified:function(){return this.limit*(this.page-1)<this.usersCount||!this.usersCount}},watch:{limit:"loadUsers",page:"loadUsers"},methods:{loadUsers:function(){var e=this;this.loading=!0,this.requestIsJustified&&i.a.get(this.url).then(function(t){e.users=t.data,e.usersCount=Number(t.headers["x-total-count"]),e.errorConnection=!1,e.loading=!1}).catch(function(){e.errorConnection=!0,e.loading=!1,e.users=[]})},deleteUser:function(e){var t=this,n="/users/"+e;i.a.delete(n).then(function(e){t.loadUsers(),t.errorConnection=!1}).catch(function(){t.errorConnection=!0})},openMobileMenu:function(){this.mobileMenuOpened=!this.mobileMenuOpened}},created:function(){this.loadUsers()}},o={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"users"},[n("div",{staticClass:"users__header header"},[n("div",{staticClass:"users__title"},[e._v("\n      Users List\n    ")]),e._v(" "),n("div",{staticClass:"users__count"},[e._v("\n      Total : "+e._s(e.usersCount)+"\n    ")]),e._v(" "),n("button",{staticClass:"mobile-menu-icon",class:{_clicked:e.mobileMenuOpened},on:{click:e.openMobileMenu}})]),e._v(" "),n("div",{staticClass:"menu",class:{_opened:e.mobileMenuOpened}},[e.usersCount?n("limitation",{staticClass:"limitation",attrs:{"current-limit":e.limit,count:e.usersCount},model:{value:e.limit,callback:function(t){e.limit=t},expression:"limit"}}):e._e(),e._v(" "),n("router-link",{staticClass:"users__link new-user-link",attrs:{to:{name:"NewUser"}}},[e._v("\n      New User\n    ")]),e._v(" "),n("router-link",{staticClass:"users__link change-theme-link",attrs:{to:{name:"Themes"}}},[e._v("\n      Change Theme\n    ")])],1),e._v(" "),n("pagination",{attrs:{count:e.usersCount,limit:e.limit},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}}),e._v(" "),e.errorConnection?n("div",{staticClass:"error"},[e._v("\n    No connection to the server. Please try again later.\n  ")]):e._e(),e._v(" "),n("transition",{attrs:{name:"fade"}},[e.loading?n("loader"):e._e()],1),e._v(" "),n("transition",{attrs:{name:"fade"}},[e.usersIsLoaded?n("users-list",{attrs:{users:e.users},on:{deleteUser:e.deleteUser}}):e._e()],1)],1)},staticRenderFns:[]};var a=n("VU/8")(r,o,!1,function(e){n("+m43")},null,null);t.default=a.exports}});
//# sourceMappingURL=1.473d9e49e7c15350f456.js.map